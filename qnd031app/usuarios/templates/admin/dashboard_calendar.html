{% extends "admin/base_site.html" %}
{% load static i18n %}

{% block extrastyle %}
{{ block.super }}
<!-- FullCalendar CSS -->
<link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.css" rel="stylesheet" />
{% endblock %}

{% block extrajs %}
{{ block.super }}
<!-- rrule library for recurrence -->
<script src="https://cdn.jsdelivr.net/npm/rrule@2.6.4/dist/es5/rrule.min.js"></script>
<!-- FullCalendar bundle -->
<script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js"></script>
<!-- rrule plugin for FullCalendar -->
<script src="https://cdn.jsdelivr.net/npm/@fullcalendar/rrule@6.1.11/index.global.min.js"></script>

<script>
  document.addEventListener('DOMContentLoaded', function () {
    const calendarEl = document.getElementById('calendar');
    const calendar = new FullCalendar.Calendar(calendarEl, {
      initialView: 'dayGridMonth',
      locale: 'es',
      height: 'auto',
      events: {{ events|safe }}
    });
    calendar.render();
  });
</script>
{% endblock %}

{% block title %}Calendario de Citas | {{ site_title|default:_('Django site admin') }}{% endblock %}

{% block content %}
  <div class="app-citas module">
    <div class="module">
      <h1 class="text-2xl font-bold mb-4">Calendario de Citas</h1>
      <div id="calendar" style="margin: 40px auto;"></div>
    </div>
  </div>
{% endblock %}
